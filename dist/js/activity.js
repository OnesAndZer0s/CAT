import ko from"knockout";import $ from"jquery";import{toHHMMSS}from"./util.js";export class ActivityManager{currentSubmissionVm;currentSubmissionsList;currentActivityTimer;baseCategory="";currentCategory;currentActivityMonitorVM;currentActivityStartTime;currentActivityEditVM}export class Activity{category;subcategory;duration;categoryName;subcategoryName;className;constructor(t,i,s){this.category=t,this.subcategory=i,this.duration=s,this.categoryName=this.category.Description,this.subcategoryName=this.subcategory.Description,this.className="categoryClass"+this.category.CategoryID}}export class ActivityEditVM{categoryList=new Array;items=ko.observableArray([]);updateActivity(t){var i=JSON.parse(localStorage.getItem("Session")||"{}"),s=ActivityManager.currentActivityEditVM.items();s[t.submissionItemID()]=t,ActivityManager.currentActivityEditVM.items(s),i[t.submissionID()].SubmissionItems[t.submissionItemID()]={SubmissionItemID:t.submissionItemID(),CategoryID:t.category().CategoryID,SubcategoryID:t.subcategory().SubcategoryID,Description:t.notes(),Duration:t.duration(),StartTime:t.startTime(),EndTime:t.endTime()},localStorage.setItem("Session",JSON.stringify(i)),t.dirtyCategory(t.category()),t.dirtySubcategory(t.subcategory()),t.dirtyNotes(t.notes())}}export class ActivityItemEdit{constructor(t,i,s,e,r,o,a,c,y){this.submissionID=ko.observable(t),this.submissionItemID=ko.observable(i),this.category=ko.observable(s),this.subcategory=ko.observable(e),this.notes=ko.observable(r),this.startTime=ko.observable(o),this.endTime=ko.observable(a),this.duration=ko.observable(c),this.categoryList=ko.observable(y),this.dirtyCategory=ko.observable(s),this.dirtySubcategory=ko.observable(e),this.dirtyNotes=ko.observable(r),this.isDirty=ko.computed((()=>this.category()!=this.dirtyCategory()||this.subcategory()!=this.dirtySubcategory()||this.notes()!=this.dirtyNotes())),this.category.subscribe((()=>{this.subcategory(void 0)}))}}export class ActivityTimer{INTERVAL=1e3;milliseconds=0;display(){$("#activityTimerText").text(toHHMMSS(this.milliseconds))}displayedTime(){}start(){this.milliseconds=0,this.timerObj&&window.clearInterval(this.timerObj),this.display(),this.timerObj=setInterval((()=>{this.milliseconds+=this.INTERVAL,this.display()}),this.INTERVAL)}}export class Category{constructor(t){this.categoryList=t,this.category=ko.observable(),this.subcategory=ko.observable(),this.notes=ko.observable(),this.category.subscribe((()=>{this.subcategory(void 0)}))}}export class ActivityMonitor{activityList=new ko.observableArray;className=new ko.observable;teacherName=new ko.observable;addActivity(t,i,s){this.activityList.unshift(new Activity(t,i,s))}clearActivities(){this.activityList(new Array)}}